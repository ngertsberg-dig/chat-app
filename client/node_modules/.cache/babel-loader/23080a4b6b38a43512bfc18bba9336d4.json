{"ast":null,"code":"var _jsxFileName = \"/home/vagrant/apps/chat-app/client/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport SendMessage from './components/SendMessage';\nimport MessageBoard from './components/MessageBoard';\nimport socketIOClient from 'socket.io-client';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      endpoint: \"localhost:8080\"\n    };\n  }\n\n  async componentDidMount() {\n    const socket = socketIOClient(this.state.endpoint);\n    this.setState({\n      socket\n    });\n    this.recieveMessage(socket);\n  }\n\n  sendMessage(e) {\n    const inputBox = document.querySelector(\"#sendMessage input[type='text']\");\n    const message = inputBox.value;\n    e.preventDefault();\n    console.log(`sending message: ${message}`);\n    this.state.socket.emit('message send', message);\n    inputBox.value = '';\n  }\n\n  recieveMessage(socket) {\n    const messageBoard = document.querySelector(\"#messages ul\");\n    socket.on(\"message recieve\", msg => {\n      var d = new Date();\n      var n = d.toLocaleTimeString();\n      console.log(`message recieved: ${msg}`);\n      messageBoard.innerHTML += `<li class = 'message'><p class = 'date'>${n}</p><p class = 'message-text'>${msg}</p></li>`;\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(MessageBoard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(SendMessage, {\n      click: e => this.sendMessage(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/vagrant/apps/chat-app/client/src/App.js"],"names":["React","SendMessage","MessageBoard","socketIOClient","App","Component","constructor","state","endpoint","componentDidMount","socket","setState","recieveMessage","sendMessage","e","inputBox","document","querySelector","message","value","preventDefault","console","log","emit","messageBoard","on","msg","d","Date","n","toLocaleTimeString","innerHTML","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AACA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAiC;AAC/BC,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,KAAL,GAAW;AACTC,MAAAA,QAAQ,EAAC;AADA,KAAX;AAGD;;AACD,QAAMC,iBAAN,GAAyB;AACvB,UAAMC,MAAM,GAAGP,cAAc,CAAC,KAAKI,KAAL,CAAWC,QAAZ,CAA7B;AACA,SAAKG,QAAL,CAAc;AAAED,MAAAA;AAAF,KAAd;AACA,SAAKE,cAAL,CAAoBF,MAApB;AACD;;AACDG,EAAAA,WAAW,CAACC,CAAD,EAAG;AAEZ,UAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iCAAvB,CAAjB;AACA,UAAMC,OAAO,GAAGH,QAAQ,CAACI,KAAzB;AACAL,IAAAA,CAAC,CAACM,cAAF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAa,oBAAmBJ,OAAQ,EAAxC;AACA,SAAKX,KAAL,CAAWG,MAAX,CAAkBa,IAAlB,CAAuB,cAAvB,EAAsCL,OAAtC;AACAH,IAAAA,QAAQ,CAACI,KAAT,GAAiB,EAAjB;AAED;;AACDP,EAAAA,cAAc,CAACF,MAAD,EAAQ;AACpB,UAAMc,YAAY,GAAGR,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAArB;AACAP,IAAAA,MAAM,CAACe,EAAP,CAAU,iBAAV,EAA6BC,GAAD,IAAO;AACjC,UAAIC,CAAC,GAAG,IAAIC,IAAJ,EAAR;AACA,UAAIC,CAAC,GAAGF,CAAC,CAACG,kBAAF,EAAR;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAa,qBAAoBI,GAAI,EAArC;AACAF,MAAAA,YAAY,CAACO,SAAb,IAA2B,2CAA0CF,CAAE,iCAAgCH,GAAI,WAA3G;AACD,KALD;AAMD;;AACDM,EAAAA,MAAM,GAAE;AAEN,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAKlB,CAAD,IAAK,KAAKD,WAAL,CAAiBC,CAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAOD;;AAxC8B;;AA2CjC,eAAeV,GAAf","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport SendMessage from './components/SendMessage';\nimport MessageBoard from './components/MessageBoard';\nimport socketIOClient from 'socket.io-client'\nclass App extends React.Component{\n  constructor(){\n    super();\n    this.state={\n      endpoint:\"localhost:8080\"\n    }\n  }\n  async componentDidMount(){\n    const socket = socketIOClient(this.state.endpoint);\n    this.setState({ socket })\n    this.recieveMessage(socket);\n  }\n  sendMessage(e){\n    \n    const inputBox = document.querySelector(\"#sendMessage input[type='text']\");\n    const message = inputBox.value\n    e.preventDefault();\n    console.log(`sending message: ${message}`);\n    this.state.socket.emit('message send',message)\n    inputBox.value = ''\n\n  }\n  recieveMessage(socket){\n    const messageBoard = document.querySelector(\"#messages ul\");\n    socket.on(\"message recieve\",(msg)=>{\n      var d = new Date();\n      var n = d.toLocaleTimeString();\n      console.log(`message recieved: ${msg}`);\n      messageBoard.innerHTML += `<li class = 'message'><p class = 'date'>${n}</p><p class = 'message-text'>${msg}</p></li>`;\n    })\n  }\n  render(){\n    \n    return (\n      <div className=\"App\">\n        <MessageBoard />\n        <SendMessage click = {(e)=>this.sendMessage(e)} />\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}